import{f as p,j as k,r as b,F as O,c as E}from"./index-acff6650.js";var I=p(function(r,e){const{htmlWidth:a,htmlHeight:n,alt:s,...i}=r;return k("img",{width:a,height:n,ref:e,alt:s,...i})});I.displayName="NativeImage";function j(t){const{loading:r,src:e,srcSet:a,onLoad:n,onError:s,crossOrigin:i,sizes:f,ignoreFallback:g}=t,[c,u]=b.useState("pending");b.useEffect(()=>{u(e?"loading":"pending")},[e]);const l=b.useRef(),h=b.useCallback(()=>{if(!e)return;d();const o=new Image;o.src=e,i&&(o.crossOrigin=i),a&&(o.srcset=a),f&&(o.sizes=f),r&&(o.loading=r),o.onload=m=>{d(),u("loaded"),n==null||n(m)},o.onerror=m=>{d(),u("failed"),s==null||s(m)},l.current=o},[e,i,a,f,n,s,r]),d=()=>{l.current&&(l.current.onload=null,l.current.onerror=null,l.current=null)};return O(()=>{if(!g)return c==="loading"&&h(),()=>{d()}},[c,h,g]),g?"loaded":c}var w=(t,r)=>t!=="loaded"&&r==="beforeLoadOrError"||t==="failed"&&r==="onError";function y(t,r=[]){const e=Object.assign({},t);for(const a of r)a in e&&delete e[a];return e}var L=p(function(r,e){const{fallbackSrc:a,fallback:n,src:s,srcSet:i,align:f,fit:g,loading:c,ignoreFallback:u,crossOrigin:l,fallbackStrategy:h="beforeLoadOrError",referrerPolicy:d,...o}=r,m=a!==void 0||n!==void 0,v=c!=null||u||!m,N=j({...r,ignoreFallback:v}),S=w(N,h),F={ref:e,objectFit:g,objectPosition:f,...v?o:y(o,["onError","onLoad"])};return S?n||k(E.img,{as:I,className:"chakra-image__placeholder",src:a,...F}):k(E.img,{as:I,src:s,srcSet:i,crossOrigin:l,loading:c,referrerPolicy:d,className:"chakra-image",...F})});L.displayName="Image";export{L as I};
